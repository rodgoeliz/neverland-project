{"ast":null,"code":"import _regeneratorRuntime from\"/Users/verakutsenko/Documents/ModernBasketRewards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/verakutsenko/Documents/ModernBasketRewards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{WAITLIST_SUBMIT_SUCCESS,WAITLIST_USER_FETCH_SUCCESS}from\"../constants/actionTypes\";export var joinWaitlist=function joinWaitlist(email,inviter){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"dispatch payload\");_context.next=3;return fetch('/waitlist/join',{headers:{\"Content-Type\":\"application/json\"},method:\"post\",body:JSON.stringify({\"email\":email,\"inviter\":inviter})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:body=_context.sent;console.log(body);dispatch({type:WAITLIST_SUBMIT_SUCCESS,payload:body});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export var fetchWaitlistUser=function fetchWaitlistUser(referralCode){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/waitlist/user?referralCode='+referralCode);case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:body=_context2.sent;dispatch({type:WAITLIST_USER_FETCH_SUCCESS,payload:body});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};","map":{"version":3,"sources":["/Users/verakutsenko/Documents/ModernBasketRewards/src/actions/waitlist.js"],"names":["WAITLIST_SUBMIT_SUCCESS","WAITLIST_USER_FETCH_SUCCESS","joinWaitlist","email","inviter","dispatch","console","log","fetch","headers","method","body","JSON","stringify","response","json","type","payload","fetchWaitlistUser","referralCode"],"mappings":"6UAAA,OAAQA,uBAAR,CAAiCC,2BAAjC,KAAmE,0BAAnE,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,OAAR,CAAoB,CAC/C,gGAAO,iBAAOC,QAAP,oIACNC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADM,sBAEiBC,CAAAA,KAAK,CAAC,gBAAD,CAAmB,CAC9CC,OAAO,CAAE,CACR,eAAe,kBADP,CADqC,CAI9CC,MAAM,CAAE,MAJsC,CAK9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAC,QAASV,KAAV,CAAiB,UAAWC,OAA5B,CAAf,CALwC,CAAnB,CAFtB,QAEAU,QAFA,qCASaA,CAAAA,QAAQ,CAACC,IAAT,EATb,QASAJ,IATA,eAUNL,OAAO,CAACC,GAAR,CAAYI,IAAZ,EACAN,QAAQ,CAAC,CACRW,IAAI,CAAEhB,uBADE,CAERiB,OAAO,CAAEN,IAFD,CAAD,CAAR,CAXM,sDAAP,gEAgBA,CAjBM,CAmBP,MAAO,IAAMO,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,YAAD,CAAkB,CAClD,iGAAO,kBAAMd,QAAN,+JACiBG,CAAAA,KAAK,CAAC,+BAA+BW,YAAhC,CADtB,QACAL,QADA,uCAEaA,CAAAA,QAAQ,CAACC,IAAT,EAFb,QAEAJ,IAFA,gBAGNN,QAAQ,CAAC,CACRW,IAAI,CAAEf,2BADE,CAERgB,OAAO,CAAEN,IAFD,CAAD,CAAR,CAHM,wDAAP,kEAQA,CATM","sourcesContent":["import {WAITLIST_SUBMIT_SUCCESS, WAITLIST_USER_FETCH_SUCCESS} from \"../constants/actionTypes\";\n\nexport const joinWaitlist = (email, inviter) => {\n\treturn async (dispatch) => {\n\t\tconsole.log(\"dispatch payload\")\n\t\tconst response = await fetch('/waitlist/join', {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\":\"application/json\"\n\t\t\t},\n\t\t\tmethod: \"post\",\n\t\t\tbody: JSON.stringify({\"email\": email, \"inviter\": inviter})\n\t\t});\n\t\tconst body = await response.json();\n\t\tconsole.log(body)\n\t\tdispatch({\n\t\t\ttype: WAITLIST_SUBMIT_SUCCESS,\n\t\t\tpayload: body\n\t\t});\n\t}\n}\n\nexport const fetchWaitlistUser = (referralCode) => {\n\treturn async(dispatch) => {\n\t\tconst response = await fetch('/waitlist/user?referralCode='+referralCode);\n\t\tconst body = await response.json();\n\t\tdispatch({\n\t\t\ttype: WAITLIST_USER_FETCH_SUCCESS,\n\t\t\tpayload: body\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}